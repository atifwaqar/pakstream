<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PakStream â€“ Elegant Emerald Â· Feature Grid Variation</title>
  <style>
    :root{
      --bg:#0b1a14;
      --bg2:#0e221a;
      --ink:#eaf5ef;
      --muted:#a8c7b6;
      --brand:#19c37d;
      --ring:rgba(25,195,125,.35);
      --radius:16px;
      --shadow:0 12px 32px rgba(0,0,0,.35);
      --hair:rgba(255,255,255,.06);
    }

    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.6 'Inter',system-ui,sans-serif}
    a{text-decoration:none;color:var(--ink)}
    h1,h2,h3{margin:0;font-weight:800}

    header{position:sticky;top:0;z-index:30;background:linear-gradient(180deg,rgba(11,26,20,.9),rgba(11,26,20,.55) 60%,transparent);backdrop-filter:blur(8px);border-bottom:1px solid var(--hair)}
    .top{max-width:1200px;margin:auto;display:flex;gap:16px;align-items:center;justify-content:space-between;padding:16px 24px}
    .brand{display:flex;gap:10px;align-items:center}
    .logo{width:38px;height:38px;border-radius:12px;background:conic-gradient(from 140deg,#23e08c,#0f6b45,#0b1a14);box-shadow:inset 0 0 0 2px #0b1a14,0 8px 20px rgba(0,0,0,.35)}
    .brand h1{font-size:18px;letter-spacing:.3px}
    nav a{color:var(--muted);margin-left:14px}

    /* HERO */
    .hero{padding:56px 20px 36px;border-bottom:1px solid var(--hair);text-align:center;background:radial-gradient(circle at top,var(--bg2),var(--bg) 80%)}
    .hero h1{font-size:48px;line-height:1.15}
    .hero p{margin:8px auto 16px;color:var(--muted);max-width:760px}
    .search-xl{margin:16px auto 0;display:flex;gap:10px;align-items:center;background:rgba(255,255,255,.05);border:1px solid var(--hair);border-radius:18px;padding:10px 12px;box-shadow:var(--shadow);max-width:720px;position:relative}
    .search-xl input{flex:1;border:0;outline:0;background:transparent;color:var(--ink);font-size:17px;padding:12px}
    .search-xl .search-results{position:absolute;top:100%;left:0;right:0;background:var(--bg2);border:1px solid var(--hair);border-radius:12px;margin-top:4px;box-shadow:var(--shadow);max-height:240px;overflow-y:auto;z-index:100}
    .search-xl .search-results a{display:block;padding:8px 12px;color:var(--ink)}
    .search-xl .search-results a:hover{background:rgba(255,255,255,.08)}
    .btn{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--brand);color:#03130c}
    .btn-ghost{background:rgba(255,255,255,.06);color:var(--ink);border:1px solid var(--hair)}
    .suggest{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
    .chip{border:1px solid var(--hair);background:rgba(255,255,255,.06);border-radius:999px;padding:8px 12px;font-size:14px}

    /* Feature Grid */
    .features{max-width:1200px;margin:40px auto;padding:0 24px;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}
    .feature-card{background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid var(--hair);border-radius:20px;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
    .feature-card iframe{width:100%;aspect-ratio:16/9;border:0;border-bottom:1px solid var(--hair)}
    .feature-card-content{padding:16px;display:flex;flex-direction:column;flex:1}
    .feature-card h3{margin:0 0 6px;font-size:18px;color:var(--ink)}
    .feature-card p{margin:0 0 12px;color:var(--muted);font-size:14px;flex:1}
    .feature-card a{align-self:flex-start;background:var(--brand);color:#03130c;padding:8px 14px;border-radius:10px;font-weight:600;text-decoration:none}

    footer{margin:34px 0 20px;text-align:center;color:var(--muted)}

    /* ===================== */
/* Mobile adjustments    */
/* ===================== */
@media (max-width: 768px){
  /* Header */
  .top{padding:12px 16px}
  .brand h1{font-size:16px}
  nav a{margin-left:12px; font-size:14px}

  /* Hero */
  .hero{padding:36px 16px 24px}
  .hero h1{font-size:32px; line-height:1.2}
  .hero p{font-size:14px; max-width:100%}

  /* Search: stack vertically */
  .search-xl{
    max-width:100%;
    flex-direction:column;
    align-items:stretch;
    gap:8px;
    border-radius:14px;
    padding:10px;
  }
  .search-xl input{padding:12px 10px; font-size:16px}
  .search-xl .btn{width:100%}

  /* Suggestion chips: horizontal scroll */
  .suggest{justify-content:flex-start; overflow-x:auto; padding:0 2px; gap:8px}
  .suggest .chip{white-space:nowrap}

  /* Feature grid: single column */
  .features{
    grid-template-columns:1fr;
    gap:16px;
    padding:0 16px;
    margin:28px auto;
  }
  .feature-card{border-radius:16px}
  .feature-card-content{padding:12px}
  .feature-card h3{font-size:16px}
  .feature-card p{font-size:13px}
  .feature-card a{width:100%; text-align:center}

  /* Iframes: keep aspect; lighter shadows for perf */
  .feature-card iframe{box-shadow:none}

  /* Footer */
  footer{padding:16px; font-size:13px}
}

  </style>
</head>
<body data-mh>
  <header>
    <div class="top">
      <div class="brand"><div class="logo"></div><h1>PakStream</h1></div>
      <nav>
        <a href="/media-hub.html">Media Hub</a>
        <a href="/blog.html">Blog</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <h1>Stream Pakistani TV, Radio &amp; Independent Voices</h1>
    <p>Search by channel, show, or creator â€” fast, free, and worldwide. No signâ€‘up required.</p>
    <form class="search-xl" role="search">
      <input type="search" data-mh-search-input placeholder="Try: Geo News, ARY News, Mera FM, Coke Studio" />
      <a class="btn btn-ghost" href="/media-hub.html">Browse All</a>
      <button class="btn btn-primary" type="submit">Search</button>
    </form>
    <div class="suggest">
      <span class="chip">ðŸ”¥ Geo News â€“ Live</span>
      <span class="chip">ðŸ“» Mera FM 107.4</span>
      <span class="chip">ðŸŽµ Coke Studio</span>
      <span class="chip">ðŸ“° Wajahat Saeed Khan</span>
    </div>
  </section>

  <!-- Feature Grid with 6 Cards -->
  <section class="features">
    <div class="feature-card" id="freepress">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=freepress&c=wajahatsaeedkhan&muted=1&list=0&channels=0&about=0" title="Free Press"></iframe>
      <div class="feature-card-content">
        <h3>Free Press</h3>
        <p>Diverse perspectives from Pakistani creators.</p>
        <a href="#">Explore</a>
      </div>
    </div>
    <div class="feature-card" id="radio">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=radio&c=merafm&muted=1&list=0&channels=0&about=0" title="Mera FM"></iframe>
      <div class="feature-card-content">
        <h3>Live Pakistani Radio</h3>
        <p>Stream Mera FM, City FM89, Mast FM & more.</p>
        <a href="#">Listen Live</a>
      </div>
    </div>
    <div class="feature-card" id="tv">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=tv&c=geo&muted=1&list=0&channels=0&about=0" title="Geo News"></iframe>
      <div class="feature-card-content">
        <h3>Live News & TV</h3>
        <p>Watch Pakistani news, dramas, and morning shows.</p>
        <a href="#">Watch Now</a>
      </div>
    </div>
    <div class="feature-card">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=creator&c=zeeshanusmani&muted=1&list=0&channels=0&about=0" title="Hum TV"></iframe>
      <div class="feature-card-content">
        <h3>Trending Creators</h3>
        <p>Drama serials and entertainment shows.</p>
        <a href="#">Watch Now</a>
      </div>
    </div>
    <div class="feature-card">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=all&c=aftabiqbal&muted=1&list=0&channels=0&about=0" title="City FM89"></iframe>
      <div class="feature-card-content">
        <h3>All Streams</h3>
        <p>Explore the full library of Pakistani TV, radio, and creator channels, all organized in one place for easy browsing.</p>
        <a href="#">Listen Now</a>
      </div>
    </div>
    <div class="feature-card" id="favorites">
      <iframe src="https://pakstream.com/media-hub-embed.html?m=favorites&c=imranriazkhan&muted=1&list=0&channels=1&about=0" title="Favorites"></iframe>
      <div class="feature-card-content">
        <h3>Your Favorites</h3>
        <p>Pin your goâ€‘to channels for oneâ€‘tap playback.</p>
        <a href="#">Open Favorites</a>
      </div>
    </div>
  </section>

  <footer>Â© PakStream â€¢ Elegant Emerald Layout</footer>

  <script src="/assets/js/mh-core.js" defer></script>
  <script src="/assets/js/mh-search.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const searchForm = document.querySelector('.search-xl');
      const searchInput = searchForm?.querySelector('[data-mh-search-input]');
      if (searchForm && searchInput) {
        const results = document.createElement('div');
        results.className = 'search-results';
        searchForm.appendChild(results);
        let searchData = [];
        let loaded = false;
        function loadData() {
          if (loaded) return Promise.resolve(searchData);
          return fetch('/all_streams.json')
            .then(r => r.json())
            .then(data => {
              const items = Array.isArray(data.items) ? data.items : [];
              const typeToMode = { livetv: 'tv', tv: 'tv', radio: 'radio', freepress: 'freepress', creator: 'creator' };
              searchData = items.map(it => {
                const mode = typeToMode[it.type] || 'tv';
                const channelId = it.type === 'radio' && it.ids && it.ids.internal_id ? it.ids.internal_id : it.key;
                return {
                  name: it.name,
                  link: `/media-hub.html?c=${encodeURIComponent(channelId)}&m=${mode}`
                };
              });
              loaded = true;
              return searchData;
            });
        }
        searchInput.addEventListener('input', function () {
          const q = searchInput.value.trim().toLowerCase();
          results.innerHTML = '';
          if (!q) return;
          loadData().then(() => {
            searchData.filter(item => item.name.toLowerCase().includes(q)).slice(0, 10).forEach(item => {
              const a = document.createElement('a');
              a.href = item.link;
              a.textContent = item.name;
              results.appendChild(a);
            });
          });
        });
        searchForm.addEventListener('submit', function (e) {
          e.preventDefault();
          const q = searchInput.value.trim().toLowerCase();
          if (!q) return;
          loadData().then(() => {
            const match = searchData.find(item => item.name.toLowerCase().includes(q));
            if (match) {
              window.location.href = match.link;
            }
          });
        });
        document.addEventListener('click', function (e) {
          if (!searchForm.contains(e.target)) {
            results.innerHTML = '';
          }
        });
      }

      const cards = document.querySelectorAll('.feature-card');
      const sendMuteMessage = (iframe, muted) => {
        if (iframe.contentWindow) {
          iframe.contentWindow.postMessage({ type: 'media-hub-set-muted', muted }, '*');
        }
      };
      const sendPlayMessage = (iframe, playing) => {
        if (iframe.contentWindow) {
          iframe.contentWindow.postMessage({ type: 'media-hub-set-playing', playing }, '*');
        }
      };
      const canHover = window.matchMedia('(hover: hover) and (pointer: fine)').matches && navigator.maxTouchPoints === 0;
      if (canHover) {
        const cardArray = Array.from(cards);
        cardArray.forEach(card => {
          const iframe = card.querySelector('iframe');
          if (!iframe) return;
          card.addEventListener('mouseenter', () => {
            cardArray.forEach(c => {
              const ifr = c.querySelector('iframe');
              if (!ifr) return;
              const isCurrent = c === card;
              sendMuteMessage(ifr, !isCurrent);
              sendPlayMessage(ifr, isCurrent);
            });
          });
          card.addEventListener('mouseleave', () => {
            sendMuteMessage(iframe, true);
            sendPlayMessage(iframe, false);
          });
        });
      } else if ('IntersectionObserver' in window) {
        cards.forEach(card => {
          const iframe = card.querySelector('iframe');
          if (!iframe) return;
          let inView = false;
          const applyState = () => {
            sendMuteMessage(iframe, !inView);
            sendPlayMessage(iframe, inView);
          };
          const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (entry.target !== card) return;
              inView = entry.isIntersecting;
              applyState();
            });
          }, { threshold: 0.5 });
          observer.observe(card);
          iframe.addEventListener('load', applyState);
        });
      }
    });
  </script>
</body>
</html>
